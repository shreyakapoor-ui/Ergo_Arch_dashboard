import { ArchitectureData, Tag, ComponentNode, MilestoneView } from '../types/architecture';

export const defaultTags: Tag[] = [
  { id: 'built', label: 'Built', color: '#10b981' },
  { id: 'in-progress', label: 'In Progress', color: '#f59e0b' },
  { id: 'blocked', label: 'Blocked', color: '#ef4444' },
  { id: 'needs-validation', label: 'Needs validation', color: '#8b5cf6' },
  { id: 'assumption', label: 'Assumption', color: '#ec4899' },
  { id: 'client-question', label: 'Client question', color: '#3b82f6' },
  { id: 'owen-follow-up', label: 'Owen follow-up', color: '#06b6d4' },
  { id: 'out-of-scope', label: 'Out of scope for MVP', color: '#6b7280' },
];

export const initialComponents: ComponentNode[] = [
  {
    id: 'company-profile',
    name: 'Company Profile Agent',
    description: 'Create a company-specific baseline that downstream scenario analysis can reliably build on. The goal is to stay grounded in source data while avoiding "one giant prompt" that mixes data, reasoning, tone, balance rules, and output formatting in one brittle step. This baseline becomes the consistent input to every scenario run.',
    status: 'in-progress',
    inputs: ['Company name only (no human query)'],
    outputs: ['Company baseline JSON'],
    owner: 'Data Team',
    lastUpdated: new Date('2026-02-03'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c1',
        text: 'SEC 10-K baseline extraction is working and reviewable in Streamlit',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
      {
        id: 'c2',
        text: 'Parallel outputs are integrated and reviewable in Streamlit',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
      {
        id: 'c3',
        text: '10-Q and earnings calls ingestion are in progress',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
      {
        id: 'c4',
        text: 'Current implementation uses static JSON artifacts rather than a database (POC constraint)',
        author: 'System',
        timestamp: new Date('2026-02-01'),
        mentions: [],
        status: 'open',
      },
      {
        id: 'c5',
        text: 'Sources now: SEC 10-K / 10-Q, Parallel, Earnings Calls. Later: CRM and internal data, competitors, 8-K',
        author: 'Owen',
        timestamp: new Date('2026-02-01'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 100, y: 50 },
    layer: 0,
  },
  {
    id: 'predefined-scenarios',
    name: 'Predefined Scenarios (normalized in JSON)',
    description: 'Convert scenario intent into a structured specification so the system can run the same analysis consistently across scenarios. This keeps scenarios comparable and prevents "context drift" across runs.',
    status: 'in-progress',
    inputs: ['Client-provided flashpoints / predefined scenarios'],
    outputs: ['Scenario JSON specifications'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-02'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c6',
        text: 'Creating initial scenario JSON format and eventually running all scenario by that JSON',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 450, y: 50 },
    layer: 0,
  },
  {
    id: 'data-loader',
    name: 'Data Loader',
    description: 'Bind the company baseline to each scenario in a consistent way. This step creates "scenario bundles" so each downstream analysis agent sees a clean, typed input rather than a messy mixture of documents. This is the separation-of-concerns move the paper emphasizes.',
    status: 'in-progress',
    inputs: ['Company baseline JSON', 'Scenario specifications'],
    outputs: ['Scenario bundles'],
    owner: 'Platform Team',
    lastUpdated: new Date('2026-02-02'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c7',
        text: 'Defining Bundle structure',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 275, y: 230 },
    layer: 1,
  },
  {
    id: 'scenario-bundles',
    name: 'Scenario Bundles (Processed in Parallel)',
    description: 'Keep multiple possible futures separate and analyze them side-by-side. This prevents premature averaging or collapsing uncertainty too early.',
    status: 'in-progress',
    inputs: ['Data Loader output'],
    outputs: ['Bundles for FLOS analysis'],
    owner: 'Platform Team',
    lastUpdated: new Date('2026-02-01'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c8',
        text: 'Concept defined, limited scenario counts',
        author: 'System',
        timestamp: new Date('2026-02-01'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 275, y: 410 },
    layer: 2,
  },
  {
    id: 'flos-analysis',
    name: 'FLOS Analysis (Per Scenario)',
    description: 'Decompose analysis across Financial, Legal/Regulatory, Operational, and Strategic dimensions. These are separate agents. Focus here is reliability: smaller, focused analysis steps are less likely to drop requirements than a single monolithic pass.',
    status: 'in-progress',
    inputs: ['Scenario bundles'],
    outputs: ['Financial, Legal, Operational, Strategic analysis items'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-02'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c9',
        text: 'F/L/O structure defined. Analysis is simplified for MVP (no internal Socratic loop yet)',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 275, y: 590 },
    layer: 3,
  },
  {
    id: 'finance-agent',
    name: 'Finance Agent',
    description: 'Analyzes financial implications, impacts, and opportunities for each scenario.',
    status: 'in-progress',
    inputs: ['Scenario bundle'],
    outputs: ['Financial analysis items'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-03'),
    tags: ['in-progress'],
    comments: [],
    position: { x: 50, y: 720 },
    layer: 3.5,
  },
  {
    id: 'legal-agent',
    name: 'Legal / Regulatory Agent',
    description: 'Evaluates legal and regulatory considerations for each scenario.',
    status: 'in-progress',
    inputs: ['Scenario bundle'],
    outputs: ['Legal/regulatory analysis items'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-03'),
    tags: ['in-progress'],
    comments: [],
    position: { x: 200, y: 720 },
    layer: 3.5,
  },
  {
    id: 'operations-agent',
    name: 'Operations Agent',
    description: 'Assesses operational impacts and execution requirements for each scenario.',
    status: 'in-progress',
    inputs: ['Scenario bundle'],
    outputs: ['Operational analysis items'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-03'),
    tags: ['in-progress'],
    comments: [],
    position: { x: 350, y: 720 },
    layer: 3.5,
  },
  {
    id: 'strategy-agent',
    name: 'Strategy Agent',
    description: 'Analyzes strategic implications and competitive positioning for each scenario.',
    status: 'in-progress',
    inputs: ['Scenario bundle'],
    outputs: ['Strategic analysis items'],
    owner: 'Analytics Team',
    lastUpdated: new Date('2026-02-03'),
    tags: ['in-progress'],
    comments: [],
    position: { x: 500, y: 720 },
    layer: 3.5,
  },
  {
    id: 'all-items-combined',
    name: 'All Items Combined (global aggregation)',
    description: 'Aggregate outputs from all scenarios and dimensions into a single pool so we can run global checks and comparisons. This is what makes the workflow inspectable and auditable.',
    status: 'in-progress',
    inputs: ['All FLOS items from all bundles'],
    outputs: ['Combined item pool'],
    owner: 'Platform Team',
    lastUpdated: new Date('2026-02-02'),
    tags: ['in-progress'],
    comments: [],
    position: { x: 275, y: 870 },
    layer: 4,
  },
  {
    id: 'policy-checker',
    name: 'Balance & Policy Checker (global)',
    description: 'Apply a policy layer after analysis: balance (e.g., risk/opportunity/neutral targets), vocabulary/tone constraints, required fields, and audit logging. The paper explicitly frames this as a separate enforcement layer so you can tune policy without rewriting core reasoning.',
    status: 'in-progress',
    inputs: ['Combined items'],
    outputs: ['Policy-validated items'],
    owner: 'Platform Team',
    lastUpdated: new Date('2026-02-02'),
    tags: ['in-progress'],
    comments: [
      {
        id: 'c10',
        text: 'Defining Simplified checker (balance + schema expectations + basic logging)',
        author: 'System',
        timestamp: new Date('2026-02-02'),
        mentions: [],
        status: 'open',
      },
    ],
    position: { x: 275, y: 1050 },
    layer: 5,
  },
  {
    id: 'json-output',
    name: 'JSON Output + Causal Explainer',
    description: 'Package validated items into a structured, machine-readable artifact, then generate a compact "why" narrative that links outputs back to drivers and evidence without introducing new facts. Chang\'s paper treats this as essential for traceability and later revision.',
    status: 'planned',
    inputs: ['Validated items', 'Analysis context'],
    outputs: ['JSON Output', 'Causal explanations'],
    owner: 'ML Team',
    lastUpdated: new Date('2026-01-30'),
    tags: ['planned'],
    comments: [],
    position: { x: 275, y: 1230 },
    layer: 6,
  },
];

export const initialMilestones: MilestoneView[] = [
  {
    id: 'current-mvp',
    name: 'Current MVP State',
    description: 'All components currently in the MVP scope',
    filterTags: ['built', 'in-progress', 'planned'],
    createdAt: new Date('2026-02-01'),
  },
  {
    id: 'live-today',
    name: "What's Live Today",
    description: 'Only fully implemented components',
    filterTags: ['built'],
    createdAt: new Date('2026-02-01'),
  },
  {
    id: 'next-two-weeks',
    name: 'Next 2 Weeks',
    description: 'Components actively being worked on',
    filterTags: ['in-progress'],
    createdAt: new Date('2026-02-01'),
  },
  {
    id: 'open-questions',
    name: 'Open Questions for Client Review',
    description: 'All items requiring client input or clarification',
    filterTags: ['client-question', 'owen-follow-up'],
    createdAt: new Date('2026-02-01'),
  },
];

export const initialArchitectureData: ArchitectureData = {
  components: initialComponents,
  tags: defaultTags,
  milestones: initialMilestones,
};